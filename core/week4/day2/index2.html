<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .wrapper {
            display: flex;
            flex-wrap: wrap;
        }
        .cuadrado {
            height: 50px;
            width: 50px;
        }
    </style>
</head>
<body>

    <div class="wrapper"></div>
    
    <script>

    const getRandomColor = () => {
    const valoresPosibles = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 'A', 'B', 'C', 'D', 'E', 'F']
    let hex = "#";

    for (let i = 1; i <= 6; i++) {
        const randomIndex = Math.floor(Math.random() * 16)
        hex = hex + valoresPosibles[randomIndex];
    }

    return hex
}



    Array(500).fill().forEach(() => {

            // Crea elemento del dom pero no renderiza el elemento
        const cuadrado = document.createElement('div')

    // Añade class al elemento nuevo
    cuadrado.classList.add("cuadrado");

    // Cambio la propiedad de estilo background-color al nuevo elemento
    cuadrado.style.backgroundColor = getRandomColor()

    // Añade elemento nuevo como hijo al elemento body y renderiza el dom
    document.querySelector('.wrapper').appendChild(cuadrado);

    let rotation = 0;
    let speed = Math.floor((Math.random() * 9) + 1)


    cuadrado.addEventListener('mouseover', function() {
        speed = -(speed*15)
    })

    cuadrado.addEventListener('click', function(event) {
        event.target.style.visibility = "hidden";
    })

    setInterval(() => {
        cuadrado.style.backgroundColor = getRandomColor()

        cuadrado.style.transform = `rotate(${rotation += speed}deg)`

        cuadrado.style.opacity = Math.random()
    }, 100)



    })
    
    

   
    

    </script>
</body>
</html>